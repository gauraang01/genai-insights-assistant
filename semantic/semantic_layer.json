{
  "version": 1,
  "entities": {
    "orders": {
      "model": "fct_orders",
      "description": "Fact table containing order-level summaries."
    },
    "inventory": {
      "model": "dim_inventory",
      "description": "Dimension table showing current inventory status."
    },
    "shipments": {
      "model": "stg_shipments",
      "description": "Shipment-level data for carrier and status info."
    }
  },
  "metrics": {
    "total_revenue": {
      "sql": "SUM(total_revenue)",
      "model": "fct_orders",
      "description": "Total revenue across all orders."
    },
    "orders_count": {
      "sql": "SUM(total_orders)",
      "model": "fct_orders",
      "description": "Number of unique orders."
    },
    "low_stock_count": {
      "sql": "COUNT(CASE WHEN reorder_needed THEN 1 END)",
      "model": "dim_inventory",
      "description": "Number of products below reorder threshold."
    }
  },
  "dimensions": {
    "order_month": {
      "sql": "order_month",
      "model": "fct_orders",
      "description": "Month of the order."
    },
    "carrier": {
      "sql": "carrier",
      "model": "stg_shipments",
      "description": "Shipment carrier name."
    },
    "reorder_needed": {
      "sql": "reorder_needed",
      "model": "dim_inventory",
      "description": "Boolean indicating if restock is needed."
    }
  },
  "joins": [
    {
      "left_model": "fct_orders",
      "right_model": "dim_inventory",
      "condition": "fct_orders.product_id = dim_inventory.product_id"
    }
  ]
}
